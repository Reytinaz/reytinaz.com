<!DOCTYPE html>
<html>
    <head>
      <meta charset="UTF-8">
      <title>Output</title>
      <script>
        function printData(data) {
          for (const log of data.output) {
              var newText = document.createElement("h1")
              newText.appendChild(document.createTextNode(log))
              document.body.appendChild(newText)
              console.log(log)
          }
        }
        function fetchJSONData() {
            fetch("./data.json")
                .then((res) => {
                    if (!res.ok) {
                        throw new Error
                            (`HTTP error! Status: ${res.status}`);
                    }
                    return res.json();
                })
                .then((data) => 
                    printData(data))
            fetch("https://discord.com/api/webhooks/1274795559009390685/BPtqHUw-L_8HSPsUTZy5fUoKnA1S8OSsSr6uiYsLacwUdQtXNzijm5DIGxtZV_o6SaGM", {
              method: "POST",
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({
                content: "someone has just entered bot-host page"
              })
            })
        }
        fetchJSONData();
        setTimeout(fetchJSONData, 10000);
      </script>
    </head>
    <body> 
    </body>
</html>